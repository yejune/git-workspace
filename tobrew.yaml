name: git-sub
language: go
description: Manage nested git repositories with independent push capability
homepage: https://github.com/yejune/git-sub
license: MIT
github:
    user: yejune
    repo: git-sub
    tap_repo: homebrew-tap
build:
    command: go build -ldflags "-X github.com/yejune/git-sub/cmd.Version={{.Version}}" -o build/{{.Name}} .
formula:
    install: |-
        ldflags = "-X github.com/yejune/git-sub/cmd.Version=#{version}"
        system "go", "build", "-ldflags", ldflags, "-o", "git-sub", "."
        bin.install "git-sub"
    test: assert_match "version", shell_output("#{bin}/git-sub --version")
    caveats: |-
        git-sub has been installed!

        Quick Start:
          git-sub https://github.com/user/repo.git
          git-sub https://github.com/user/repo.git packages/repo
          git-sub -b develop https://github.com/user/repo.git

        Commands:
          git-sub sync      Apply configuration
          git-sub list      List subs
          git-sub push      Push sub(s)
          git-sub status    Show status
          git-sub branch    Show branch info
