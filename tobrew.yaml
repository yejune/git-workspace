name: git-workspace
language: go
description: Manage nested git repositories with independent push capability
homepage: https://github.com/yejune/git-workspace
license: MIT
github:
    user: yejune
    repo: git-workspace
    tap_repo: homebrew-tap
build:
    command: go build -ldflags "-X github.com/yejune/git-workspace/cmd.Version={{.Version}}" -o build/{{.Name}} .
formula:
    install: |-
        ldflags = "-X github.com/yejune/git-workspace/cmd.Version=#{version}"
        system "go", "build", "-ldflags", ldflags, "-o", "git-workspace", "."
        bin.install "git-workspace"
    test: assert_match "version", shell_output("#{bin}/git-workspace --version")
    caveats: |-
        git-workspace has been installed!

        Quick Start:
          git workspace clone https://github.com/user/repo.git
          git workspace clone https://github.com/user/repo.git packages/repo
          git workspace clone -b develop https://github.com/user/repo.git

        Commands:
          git workspace sync      Apply configuration
          git workspace list      List workspaces
          git workspace status    Show status
          git workspace reset     Reset workspaces
          git workspace pull      Pull updates
