name: git-subclone
language: go
description: Manage nested git repositories with independent push capability
homepage: https://github.com/yejune/git-subclone
license: MIT
github:
    user: yejune
    repo: git-subclone
    tap_repo: homebrew-tap
build:
    command: go build -ldflags "-X github.com/yejune/git-subclone/cmd.Version={{.Version}}" -o build/{{.Name}} .
formula:
    install: |-
        ldflags = "-X github.com/yejune/git-subclone/cmd.Version=#{version}"
        system "go", "build", "-ldflags", ldflags, "-o", "git-subclone", "."
        bin.install "git-subclone"
    test: assert_match "version", shell_output("#{bin}/git-subclone --version")
    caveats: |-
        git-subclone has been installed!

        Quick Start:
          git subclone https://github.com/user/repo.git
          git subclone https://github.com/user/repo.git packages/repo
          git subclone -b develop https://github.com/user/repo.git

        Commands:
          git subclone sync      Sync all subclones
          git subclone list      List subclones
          git subclone push      Push subclone(s)
          git subclone status    Show status
